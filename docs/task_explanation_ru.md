# Объяснение задачи хакатона

## Суть задачи

Нужно разработать систему маршрутизации платежей через различных платёжных провайдеров (банки), которая будет максимально эффективно обрабатывать транзакции с учетом множества параметров.

## Что такое платежный конвейер?

Когда пользователь совершает оплату (например, в интернет-магазине), его платеж проходит через платежный конвейер. Это система, которая должна:

1. Выбрать оптимального провайдера для обработки платежа
2. В случае неудачи перенаправить платеж другому провайдеру
3. Максимизировать прибыль при сохранении высокого качества обслуживания

## Входные данные

Предоставляются три типа CSV файлов:

1. **Файлы с платежами** (payments_1.csv, payments_2.csv):
   - Время платежа
   - Сумма
   - Валюта
   - ID платежа
   - Токен карты

2. **Файлы с провайдерами** (providers_1.csv, providers_2.csv):
   - Время актуальности состояния
   - ID провайдера
   - Конверсия (% успешных платежей)
   - Среднее время обработки
   - Минимальная/максимальная сумма платежа
   - Лимиты (минимальный/максимальный оборот за сутки)
   - Комиссия
   - Поддерживаемая валюта

3. **Файл с курсами валют** (ex_rates.csv)

## Что нужно сделать?

1. **Создать алгоритм**, который для каждого платежа будет:
   - Выбирать оптимальную последовательность провайдеров
   - Учитывать текущее состояние каждого провайдера
   - Адаптироваться к изменениям условий

2. **Оптимизировать три ключевых параметра**:
   - Прибыль (размер платежа минус комиссия провайдера)
   - Конверсия (процент успешных платежей)
   - Время обработки (важно для удержания клиентов)

## Особенности и ограничения

1. **Динамическое состояние провайдеров**:
   - Конверсия может меняться
   - Время обработки может увеличиваться
   - Комиссии могут меняться

2. **Штрафы**:
   - 1% от минимального лимита, если не достигнут суточный оборот по провайдеру

3. **Последовательная обработка**:
   - Нельзя отправлять платеж нескольким провайдерам одновременно
   - Каждый следующий провайдер используется только при неудаче предыдущего

## Требования к решению

1. **Техническая часть**:
   - Программа должна принимать CSV файлы
   - Выдавать результат с дополнительной колонкой "flow" (цепочка провайдеров)
   - Легко запускаться (предпочтительно через Docker)

2. **Оценка решения**:
   - Работоспособность прототипа (1-10 баллов)
   - Соответствие функциональным требованиям (1-10 баллов)
   - Технологичность решения (1-10 баллов)
   - Качество презентации (1-10 баллов)
   - Потенциал развития решения (1-10 баллов)

## Ключевые моменты для успеха

1. **Баланс параметров**:
   - Между прибылью и конверсией
   - Между скоростью и надежностью
   - Между сложностью решения и его стабильностью

2. **Инновационность**:
   - Предложить масштабируемое решение
   - Учесть возможность добавления новых параметров
   - Продумать механизмы автоматической адаптации

3. **Практичность**:
   - Решение должно работать на реальных данных
   - Быть устойчивым к ошибкам
   - Иметь понятную документацию 